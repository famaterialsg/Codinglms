{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <!-- Page Header -->
    <div class="row">
        <div class="col text-center">
            <h1>Performance Analytics</h1>
            <p class="lead">View your progress and performance in the course.</p>
        </div>
    </div>
    
    <!-- Performance Summary -->
    <div class="row justify-content-center mt-4">
        <div class="col-lg-6 col-md-8">
            <div class="card">
                <div class="card-header text-center bg-primary text-white">
                    <h3>Course: {{ course.name }}</h3>
                </div>
                <div class="card-body">
                    <p><strong>User:</strong> {{ user.username }}</p>
                    <p><strong>Average Score:</strong> {{ performance.average_score|floatformat:2 }}%</p>
                    <p><strong>Completion Rate:</strong> {{ performance.completion_rate|floatformat:2 }}%</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Progress Bar -->
    <div class="row justify-content-center mt-5">
        <div class="col-lg-6 col-md-8">
            <div class="progress">
                <div class="progress-bar progress-bar-striped bg-success" role="progressbar" 
                     style="width: {{ performance.completion_rate|floatformat:0 }}%;" 
                     aria-valuenow="{{ performance.completion_rate|floatformat:0 }}" 
                     aria-valuemin="0" aria-valuemax="100">
                    {{ performance.completion_rate|floatformat:2 }}% Completed
                </div>
            </div>
        </div>
    </div>

    <!-- Back Button -->
    <div class="row justify-content-center mt-4">
        <div class="col-lg-6 col-md-8 text-center">
            <a href="{% url 'course:course_list' %}" class="btn btn-secondary">Back to Courses</a>
        </div>
    </div>
</div>
{% endblock %}
